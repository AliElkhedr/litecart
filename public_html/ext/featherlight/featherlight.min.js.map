{"version":3,"file":"featherlight.min.js","sources":["featherlight.js"],"names":["$","opened","pruneOpened","toggleGlobalEvents","Featherlight","$content","config","fl","this","open","id","setup","chainCallbacks","_callbackChain","window","console","error","fn","jquery","match","info","remove","grep","$instance","closest","length","prototype","constructor","autoBind","namespace","targetAttr","openTrigger","filter","closeOnClick","closeOnEsc","loading","persist","newState","eventMap","events","_globalHandlerInstalled","map","keyup","resize","_","name","join","event","each","reverse","isDefaultPrevented","type","preventDefault","stopPropagation","otherClose","beforeOpen","noop","beforeContent","beforeClose","afterOpen","afterContent","afterClose","onKeyUp","onResize","closeIcon","contentFilters","width","height","maxWidth","maxHeight","requireWindowWidth","target","undefined","self","extend","on","is","close","getContent","readTargetAttr","$currentTarget","attr","filters","targetValue","data","filterName","test","regex","process","call","setContent","removeClass","show","find","html","prepend","ctrlKey","shiftKey","hide","appendTo","addClass","push","when","always","parent","css","then","promise","done","detach","Deferred","reject","deferred","resolve","chain","proxy","defaults","element","clone","image","url","img","Image","$img","onload","naturalWidth","naturalHeight","onerror","src","ajax","$container","replace","load","response","status","contents","iframe","text","readElementConfig","functionAttributes","i","Function","attach","$source","handler","$target","currentTarget","elementConfig","sharedPersist","blur","tempConfig","current","all","cur","_onReady","$autobound","document","$cur","add","parentsUntil","_super","keyCode","featherlight","_previouslyActive","activeElement","_$previouslyTabbable","not","_$previouslyWithTabIndex","_previousWithTabIndices","_i","focus","removeAttr","ready","jQuery"],"mappings":"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"}