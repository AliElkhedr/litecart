{"version":3,"file":"featherlight.min.js","sources":["featherlight.js"],"names":["$","opened","pruneOpened","toggleGlobalEvents","Featherlight","$content","config","this","fl","open","id","setup","chainCallbacks","_callbackChain","fn","jquery","match","window","console","info","remove","grep","$instance","closest","length","newState","eventMap","events","_globalHandlerInstalled","map","keyup","resize","_","name","prototype","namespace","join","event","each","reverse","isDefaultPrevented","type","preventDefault","stopPropagation","constructor","autoBind","targetAttr","openTrigger","filter","closeOnClick","closeOnEsc","loading","persist","otherClose","beforeOpen","noop","beforeContent","beforeClose","afterOpen","afterContent","afterClose","onKeyUp","onResize","closeIcon","contentFilters","width","height","maxWidth","maxHeight","requireWindowWidth","target","undefined","self","extend","on","is","close","getContent","readTargetAttr","$currentTarget","attr","filters","targetValue","data","filterName","test","regex","error","process","call","setContent","removeClass","show","find","html","prepend","ctrlKey","shiftKey","hide","appendTo","addClass","push","when","always","parent","css","then","promise","done","detach","Deferred","reject","deferred","resolve","chain","proxy","defaults","element","clone","image","url","img","Image","$img","onload","naturalWidth","naturalHeight","onerror","src","ajax","replace","$container","load","response","status","contents","iframe","text","readElementConfig","functionAttributes","i","Function","attach","$source","handler","$target","currentTarget","elementConfig","sharedPersist","blur","tempConfig","current","all","cur","_onReady","$autobound","document","$cur","add","parentsUntil","_super","keyCode","featherlight","_previouslyActive","activeElement","_$previouslyTabbable","not","_$previouslyWithTabIndex","_previousWithTabIndices","_i","focus","removeAttr","ready","jQuery"],"mappings":"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"}